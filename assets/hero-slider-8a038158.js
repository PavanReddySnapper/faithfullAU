import{r as k}from"./theme-sections-ecef3d83.js";import{F as b}from"./index-13f72e9f.js";import"./flickity-imagesloaded-2e68b949.js";const p=t=>{t.forEach(a=>{const e=a.querySelectorAll("button, a, input, select, textarea");a.ariaHidden==="true"?e.forEach(i=>{i.tabIndex=-1}):e.forEach(i=>{i.tabIndex=0})})},l={sliderContainer:"[data-slider-container]",slide:"[data-slide]",videoSlide:"[data-video-slide]",videoWrapper:"[data-background-video]",video:"[data-video]"},d={singleSlide:"single-slide",selectedSlide:"is-selected",videoPlaying:"video-playing",isVisible:"is-visible"},S="hero-slider";var y,h,g;const w=((g=(h=(y=window.Shopify)==null?void 0:y.theme)==null?void 0:h.sections)==null?void 0:g.registered)||{},E=typeof w[S]>"u";E&&k(S,{onLoad(){const t=this.container,a=t.dataset.sectionSettings||"{}";this.settings=JSON.parse(a);const e=t.querySelector(l.sliderContainer);if(!e)return;const i=e.querySelectorAll(l.slide),m=e.querySelectorAll(l.videoSlide),u=window.matchMedia(`(min-width: ${window.theme.breakpoints.md}px)`);let f=u.matches?"desktop":"mobile";const o=s=>{var c;const n=(c=i[s])==null?void 0:c.querySelector(l.videoWrapper);if(n===null)return;n.querySelectorAll("video").forEach(async r=>{if(!r.dataset.mediaType||r.dataset.mediaType===f){r.autoplay=!0,await r.play();return}r.pause()}),n.classList.add(d.videoPlaying)};if(u.addEventListener("change",()=>{if(f=u.matches?"desktop":"mobile",e.classList.contains(d.singleSlide)){o(0);return}this.flickity&&o(this.flickity.selectedIndex)}),e.classList.contains(d.singleSlide)){const s=t.querySelector(l.slide);s==null||s.classList.add(d.selectedSlide),o(0);return}this.flickity=new b(e,{prevNextButtons:!1,autoPlay:this.settings.autoplay,pageDots:!1,adaptiveHeight:!0,watchCSS:!0,wrapAround:this.settings.infinite,on:{ready(){e.classList.add(d.isVisible),p(i),o(0)},change(s){p(i),o(s),m.forEach(n=>{if(n===this.selectedElement)return;n.querySelectorAll("video").forEach(c=>c.pause())})}}})},onBlockSelect(t){if(!Shopify.designMode)return;this.settings.autoplay&&this.flickity.pausePlayer();const a=Array.from(t.target.parentElement.children).indexOf(t.target);this.flickity.select(a)},onDeselect(){Shopify.designMode&&this.settings.autoplay&&this.flickity.unpausePlayer()}});

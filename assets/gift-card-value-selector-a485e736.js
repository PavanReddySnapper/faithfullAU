import{f as s}from"./currency-7d20dcfe.js";class a extends HTMLElement{constructor(){super(),this.selectors={addToCart:'[name="add"]',variantInput:'[name="id"]',currentValue:"[data-current-value]",increment:"[data-increment]",decrement:"[data-decrement]"};const r=JSON.parse(this.getAttribute("data-json"));this.variants=r.variants.sort((n,t)=>n.price-t.price),this.currentValue=this.variants[0],this.currentValueEl=this.querySelector(this.selectors.currentValue),this.addToCartButton=this.closest("form").querySelector(this.selectors.addToCart),this.variantInput=this.querySelector(this.selectors.variantInput),this.incrementBtn=this.querySelector(this.selectors.increment),this.decrementBtn=this.querySelector(this.selectors.decrement),this.incrementBtn.addEventListener("click",this.updateCurrentValue.bind(this,{event,type:"increment"})),this.decrementBtn.addEventListener("click",this.updateCurrentValue.bind(this,{event,type:"decrement"}))}updateCurrentValue({event:r,type:n}){r.preventDefault();const t=this.variants.indexOf(this.currentValue),i=n==="increment"?t+1:t-1;if(i<0||i>this.variants.length-1)return;const e=this.variants[i];e&&(this.addToCartButton.hasAttribute("disabled")&&this.addToCartButton.removeAttribute("disabled"),this.currentValue=e,this.currentValueEl.innerText=s(e.price,theme.moneyFormat),this.variantInput.value=e.id)}}function d(){customElements.define("gift-card-value-selector",a)}export{d as i};

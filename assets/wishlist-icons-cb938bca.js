const o="wishlist:added",n="wishlist:removed",c="swym-added",e=i=>{window.SwymCallbacks||(window.SwymCallbacks=[]),window.SwymCallbacks.push(i)},l=()=>new Promise(i=>e(()=>window._swat.fetch(i))),d=()=>{window.wishlistProducts.length&&[...window.wishlistProducts,"header"].forEach(i=>{const s=document.querySelectorAll(`[data-wishlist-icon="${i}"]`);s==null||s.forEach(t=>t.classList.add(c))})},a=async()=>{window.wishlistProducts=[],window.addEventListener(o,s=>{s.detail.product&&(window.wishlistProducts=[...window.wishlistProducts,s.detail.product],d())}),window.addEventListener(n,s=>{if(!s.detail.product)return;const t=window.wishlistProducts.filter(w=>w!==s.detail.product);window.wishlistProducts=t});const i=await l();i!=null&&i.length&&(window.wishlistProducts=[...new Set(i.map(s=>s.empi)),...window.wishlistProducts],d())};export{o as W,n as a,a as i};

import{r as u}from"./theme-sections-ecef3d83.js";import{F as h}from"./index-13f72e9f.js";const o={sliderContainer:"[data-announcement-container]",slide:"[data-announcement]"},n={singleSlide:"single-slide",selectedSlide:"is-selected",show:"show"},l="announcement";var r,a,c;const m=((c=(a=(r=window.Shopify)==null?void 0:r.theme)==null?void 0:a.sections)==null?void 0:c.registered)||{},p=typeof m[l]>"u";p&&u(l,{onLoad(){const e=this.container,t=e.dataset.sectionSettings||"{}";this.settings=JSON.parse(t);const d=Number(this.settings.autoplay_speed*1e3),s=e.querySelector(o.sliderContainer);if(s){if(s.classList.contains(n.singleSlide)){const i=e.querySelector(o.slide);i==null||i.classList.add(n.selectedSlide)}else this.flickity=new h(s,{prevNextButtons:!1,autoPlay:d,pageDots:!1,adaptiveHeight:!0,watchCSS:!0,wrapAround:this.settings.infinite});this.initAnnouncementBar()}},initAnnouncementBar(){const e=()=>{window.requestAnimationFrame(()=>{let t;window.scrollY>0?(this.container.parentElement.classList.add(n.show),t=this.container.offsetHeight,document.documentElement.style.setProperty("--announcement-height",`${t}px`)):(this.container.parentElement.classList.remove(n.show),t=0),document.documentElement.style.setProperty("--announcement-height",`${t}px`)})};window.addEventListener("scroll",e)},onBlockSelect(e){if(!Shopify.designMode)return;this.settings.autoplay_speed>0&&this.flickity.pausePlayer();const t=Array.from(e.target.parentElement.children).indexOf(e.target);this.flickity.select(t)},onDeselect(){Shopify.designMode&&this.settings.autoplay_speed>0&&this.flickity.unpausePlayer()}});

import{r as v}from"./theme-sections-ecef3d83.js";const i={navToggle:"[data-nav-toggle]",navClose:"[data-nav-close]",navOverlay:"[data-nav-overlay]",navLink:"[data-nav-link]",navDropdown:"[data-nav-dropdown]",activeDropdownLinks:".nav__item--has-child.is-expanded",openNavToggles:".nav__item--has-child.is-expanded .nav__item--toggle"},e={transparentHeader:"header--is-transparent",pinnedHeader:"header--is-pinned",stickyHeader:"header--is-sticky",isExpanded:"is-expanded",isCollapsed:"is-collapsed",dropdownIsActive:"dropdown-is-active",menuIsExpanded:"menu-is-expanded"},u="header";var l,p,h;const m=((h=(p=(l=window.Shopify)==null?void 0:l.theme)==null?void 0:p.sections)==null?void 0:h.registered)||{},L=typeof m[u]>"u";L&&v(u,{onLoad(){const n=this;this.setHeaderHeightVar(),this.container.classList.contains(e.transparentHeader)&&this.container.classList.contains(e.stickyHeader)&&this.observeTransparentHeader(),this.container.querySelector(i.navToggle).addEventListener("click",this.btnMenuClickToggleHandler.bind(this)),this.container.querySelector(i.navClose).addEventListener("click",this.btnMenuClickCloseHandler.bind(this));const a=window.matchMedia(`(min-width: ${window.theme.breakpoints.lg}px)`),c=r=>{this.handleResize(),r.matches&&this.calculateNavDropdownMaxSize()};typeof(a==null?void 0:a.addEventListener)=="function"?a.addEventListener("change",c.bind(this)):a.addListener(c.bind(this)),a.matches&&this.calculateNavDropdownMaxSize();const o=this.container.querySelector(i.navOverlay);o==null||o.addEventListener("click",this.btnMenuClickCloseHandler.bind(this)),this.container.querySelectorAll(i.navLink).forEach(r=>r.addEventListener("click",n.navLinkClickHandler.bind(n)))},observeTransparentHeader(){const n=()=>{window.scrollY<=80?this.container.classList.remove(e.pinnedHeader):this.container.classList.add(e.pinnedHeader)};n(),document.addEventListener("scroll",n)},calculateNavDropdownMaxSize(){window.requestAnimationFrame(()=>{const n=this.container,s=n.offsetHeight;n.querySelectorAll(i.navDropdown).forEach(d=>d.style.setProperty("--header-height",`${s}px`))})},setHeaderHeightVar(){window.requestAnimationFrame(()=>{const n=this.container.offsetHeight;document.documentElement.style.setProperty("--header-height",`${n}px`)})},handleResize(){this.btnMenuClickCloseHandler(),this.collapseDropdown(),this.setHeaderHeightVar()},collapseDropdown(){const n=this.container.querySelectorAll(i.activeDropdownLinks),s=this.container.querySelectorAll(i.openNavToggles);document.body.classList.remove(e.dropdownIsActive),n.forEach(t=>{t.classList.remove(e.isExpanded),t.classList.add(e.isCollapsed)}),s.forEach(t=>t.setAttribute("aria-expanded",!1))},btnMenuClickToggleHandler(){document.body.classList.contains(e.menuIsExpanded)?this.btnMenuClickCloseHandler():this.btnMenuClickOpenHandler()},btnMenuClickOpenHandler(){document.body.classList.add(e.menuIsExpanded),this.container.querySelectorAll(i.activeDropdownLinks).forEach(s=>{s.classList.remove(e.isExpanded),setTimeout(()=>s.classList.add(e.isCollapsed),200)})},btnMenuClickCloseHandler(){document.body.classList.remove(e.dropdownIsActive),document.body.classList.remove(e.menuIsExpanded),this.container.querySelectorAll(i.activeDropdownLinks).forEach(s=>{s.classList.remove(e.isExpanded),s.classList.add(e.isCollapsed)})},navLinkClickHandler(n){n.preventDefault();const s=this.container.querySelectorAll(i.navLink),t=n.currentTarget.parentElement,d=n.currentTarget;return t.classList.contains(e.isExpanded)?(d.setAttribute("aria-expanded",!1),t.classList.remove(e.isExpanded),setTimeout(()=>t.classList.add(e.isCollapsed),200),document.body.classList.remove(e.dropdownIsActive)):(s.forEach(a=>a.parentElement.classList.remove(e.isExpanded)),s.forEach(a=>a.parentElement.classList.add(e.isCollapsed)),s.forEach(a=>a.setAttribute("aria-expanded",!1)),t.classList.remove(e.isCollapsed),t.classList.add(e.isExpanded),document.body.classList.add(e.dropdownIsActive),d.setAttribute("aria-expanded",!0)),!0}});

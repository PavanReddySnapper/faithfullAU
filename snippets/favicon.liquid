<link rel="icon" href="{{ 'favicon.png' | asset_img_url: '256x256' | prepend: 'https:' }}" sizes="any">
<link rel="icon" href="{{ 'favicon.svg' | asset_url | prepend: 'https:' }}" type="image/svg+xml">
<link rel="apple-touch-icon" href="{{ 'favicon.png' | asset_img_url: '180x180' | prepend: 'https:' }}">
<link rel="manifest">

<script>
  (() => {
    const json = {
      name: {{ shop.name | json }},
      start_url: {{ shop.secure_url | json }},
      theme_color: {{ settings.color_accent | json }},
      background_color: '#FFFFFF',
      icons: [
        {
          src: {{ 'favicon.png' | asset_img_url: '192x192' | prepend: 'https:' | json }},
          sizes: "192x192",
          type: "image/png",
          purpose: "maskable"
        },
        {
          src: {{ 'favicon.png' | asset_img_url: '512x512' | prepend: 'https:' | json }},
          sizes: "512x512",
          type: "image/png",
          purpose: "maskable"
        }
      ]
    }
    const blob = new Blob([JSON.stringify(json)], { type: 'application/json' });
    document.querySelector('link[rel="manifest"]').href = URL.createObjectURL(blob);
  })();
</script>
